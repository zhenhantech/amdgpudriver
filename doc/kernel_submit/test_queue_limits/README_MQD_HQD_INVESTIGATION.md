# MQD/HQDè°ƒæŸ¥æ€»ç»“ - å¦‚ä½•æŸ¥çœ‹çœŸå®ç¡¬ä»¶Queueæ•°é‡

**æ—¥æœŸ**: 2026-01-30  
**ç›®æ ‡**: é€šè¿‡ç ”ç©¶MQDç¡®å®šæœ‰å¤šå°‘ä¸ªçœŸå®çš„ç¡¬ä»¶Queueæ­£åœ¨ä½¿ç”¨

---

## ğŸ¯ æ ¸å¿ƒç»“è®º

### âœ… å›ç­”åŸå§‹é—®é¢˜ï¼š"ç ”ç©¶MQDæ˜¯å¦èƒ½çŸ¥é“æœ‰å¤šå°‘ä¸ªç¡¬ä»¶Queueï¼Ÿ"

**ç­”æ¡ˆï¼šæ˜¯çš„ï¼** é€šè¿‡è¯»å– `/sys/kernel/debug/kfd/` çš„MQDå’ŒHQDæ•°æ®ï¼Œå¯ä»¥ç²¾ç¡®çŸ¥é“ï¼š

1. **è½¯ä»¶é˜Ÿåˆ—æ•°é‡**ï¼ˆMQDï¼‰- æœ‰å¤šå°‘ä¸ªAQL Queueè¢«åˆ›å»º
2. **ç¡¬ä»¶é˜Ÿåˆ—æ•°é‡**ï¼ˆHQDï¼‰- å®é™…æœ‰å¤šå°‘ä¸ªç¡¬ä»¶Queueåœ¨GPUä¸Šæ´»è·ƒ
3. **æ˜ å°„å…³ç³»** - è½¯ä»¶é˜Ÿåˆ—å¦‚ä½•æ˜ å°„åˆ°ç¡¬ä»¶é˜Ÿåˆ—

è¿™æ¯”ä»ä»£ç ä¸­ç¡¬ç¼–ç çš„ç†è®ºå€¼ï¼ˆ32ä¸ªï¼‰**æ›´å‡†ç¡®ã€æ›´å®æ—¶**ï¼

---

## ğŸ“ KFD Debugfsæ¥å£

### ä½ç½®å’Œè®¿é—®

```bash
/sys/kernel/debug/kfd/
â”œâ”€â”€ mqds  â† è½¯ä»¶é˜Ÿåˆ—ï¼ˆMQDï¼‰â­â­â­
â”œâ”€â”€ hqds  â† ç¡¬ä»¶é˜Ÿåˆ—ï¼ˆHQDï¼‰â­â­â­
â””â”€â”€ rls   â† RunListçŠ¶æ€
```

**è®¿é—®æƒé™**: éœ€è¦root

```bash
# è¯»å–è½¯ä»¶é˜Ÿåˆ—çŠ¶æ€
sudo cat /sys/kernel/debug/kfd/mqds > mqds.txt

# è¯»å–ç¡¬ä»¶é˜Ÿåˆ—çŠ¶æ€
sudo cat /sys/kernel/debug/kfd/hqds > hqds.txt
```

### MQDæ–‡ä»¶å†…å®¹

**æ ¼å¼**: äºŒè¿›åˆ¶åå…­è¿›åˆ¶dump

**ç»“æ„**:
```
Process <PID> PASID <PASID>:
  Compute queue on device <device_id>
    <hex dump of MQD structure>
    ...
  Compute queue on device <device_id>
    <hex dump of MQD structure>
    ...
```

**å…³é”®å­—æ®µ**ï¼ˆåç§»0x200ï¼‰:
- `cp_hqd_pq_base_lo`: Ring bufferä½32ä½åœ°å€
- æ¯ä¸ªé˜Ÿåˆ—æœ‰å”¯ä¸€çš„ring bufferåœ°å€

**ç»Ÿè®¡è½¯ä»¶é˜Ÿåˆ—æ•°é‡**:
```bash
# æ–¹æ³•ï¼šç»Ÿè®¡å”¯ä¸€çš„ring bufferåœ°å€
grep "00000200:" mqds.txt | awk '{print $2}' | grep -v "00000000" | sort | uniq | wc -l
```

### HQDæ–‡ä»¶å†…å®¹

**æ ¼å¼**: äºŒè¿›åˆ¶åå…­è¿›åˆ¶dump + ç»“æ„åŒ–æ ‡ç­¾

**ç»“æ„**:
```
Node <node>, gpu_id <gpu_id>:
   Inst <inst>, HIQ on MEC <mec> Pipe <pipe> Queue <queue>
     <hex dump>
   Inst <inst>, CP Pipe <pipe>, Queue <queue>
     <hex dump>
   ...
```

**å…³é”®æ ‡è¯†**:
- `CP Pipe X, Queue Y`: è¡¨ç¤ºä¸€ä¸ªè®¡ç®—é˜Ÿåˆ—
- ç¬¬ä¸€è¡Œå¦‚æœåœ°å€éé›¶ï¼Œè¡¨ç¤ºé˜Ÿåˆ—æ´»è·ƒ

**ç»Ÿè®¡ç¡¬ä»¶é˜Ÿåˆ—æ•°é‡**:
```bash
# æ–¹æ³•ï¼šç»Ÿè®¡éé›¶ring bufferåœ°å€çš„CPé˜Ÿåˆ—
awk '/CP Pipe/ {getline; if ($2 != "00000000") count++} END {print count}' hqds.txt
```

---

## ğŸ”¬ æµ‹è¯•æ–¹æ³•

### æˆ‘ä»¬åˆ›å»ºçš„å·¥å…·

#### 1. `read_mqd_hqd.sh` - å¿«é€ŸæŸ¥çœ‹å½“å‰çŠ¶æ€

```bash
./read_mqd_hqd.sh
```

**åŠŸèƒ½**:
- è¯»å–å½“å‰çš„MQDå’ŒHQD
- æ˜¾ç¤ºåŸºæœ¬ç»Ÿè®¡ä¿¡æ¯
- ä¿å­˜åˆ°/tmp/ç›®å½•

#### 2. `test_and_inspect_mqd.sh` - å®Œæ•´æµ‹è¯•æµç¨‹ â­â­â­

```bash
./test_and_inspect_mqd.sh 32  # æµ‹è¯•32ä¸ªstreams
```

**åŠŸèƒ½**:
1. è¯»å–baselineçŠ¶æ€ï¼ˆæµ‹è¯•å‰ï¼‰
2. å¯åŠ¨æµ‹è¯•ç¨‹åºåˆ›å»ºstreams
3. åœ¨streamsæ´»è·ƒæ—¶è¯»å–MQD/HQDï¼ˆå…³é”®ï¼ï¼‰
4. å¯¹æ¯”baselineå’ŒactiveçŠ¶æ€
5. ç”Ÿæˆåˆ†ææŠ¥å‘Š

**è¾“å‡º**:
- `baseline_mqds_*.txt`: æµ‹è¯•å‰çš„è½¯ä»¶é˜Ÿåˆ—
- `active_mqds_*.txt`: æµ‹è¯•ä¸­çš„è½¯ä»¶é˜Ÿåˆ—
- `after_mqds_*.txt`: æµ‹è¯•åçš„è½¯ä»¶é˜Ÿåˆ—
- `baseline_hqds_*.txt`: æµ‹è¯•å‰çš„ç¡¬ä»¶é˜Ÿåˆ—
- `active_hqds_*.txt`: æµ‹è¯•ä¸­çš„ç¡¬ä»¶é˜Ÿåˆ—
- `mqd_hqd_report_*.txt`: åˆ†ææŠ¥å‘Š

#### 3. `analyze_mqd_hqd.sh` - åˆ†æå·²æœ‰æ•°æ®

```bash
./analyze_mqd_hqd.sh logs_mqd_inspection
```

**åŠŸèƒ½**:
- è§£æMQDå’ŒHQDæ–‡ä»¶
- ç»Ÿè®¡è½¯ä»¶å’Œç¡¬ä»¶é˜Ÿåˆ—æ•°é‡
- å¯¹æ¯”é¢„æœŸ vs å®é™…
- ç”Ÿæˆå®Œæ•´åˆ†ææŠ¥å‘Š

---

## ğŸ“Š æµ‹è¯•ç»“æœ

### å®é™…æµ‹è¯•æ•°æ®

| æµ‹è¯• | åˆ›å»ºStreams | å®é™…MQD | å®é™…HQD | æ˜ å°„ |
|-----|------------|---------|---------|------|
| Test 1 | 16 | 20 | 20 | 1:1 |
| Test 2 | 32 | 20 | 20 | 1:1 |
| Test 3 | 64 | 20 | 20 | 1:1 |

### è§‚å¯Ÿ

1. **æ‰€æœ‰æµ‹è¯•éƒ½æ˜¾ç¤º20ä¸ªé˜Ÿåˆ—** âš ï¸
   - ä¸é¢„æœŸçš„16/32/64ä¸åŒ¹é…
   - å¯èƒ½åŸå› ï¼šHIPè¿è¡Œæ—¶çš„é˜Ÿåˆ—æ± æœºåˆ¶ã€æµ‹è¯•æ—¶æœºé—®é¢˜

2. **1:1æ˜ å°„**
   - 20ä¸ªè½¯ä»¶é˜Ÿåˆ— â†’ 20ä¸ªç¡¬ä»¶é˜Ÿåˆ—
   - æœªè§‚å¯Ÿåˆ°HQDå¤ç”¨ï¼ˆå¯èƒ½å› ä¸ºæœªè¶…è¿‡32ä¸ªé™åˆ¶ï¼‰

3. **ç›¸åŒçš„ring bufferåœ°å€**
   - æ‰€æœ‰æµ‹è¯•çš„å‰5ä¸ªåœ°å€ç›¸åŒ
   - è¯´æ˜ä½¿ç”¨äº†ç›¸åŒçš„é˜Ÿåˆ—æ± 

### Ring Bufferåœ°å€åˆ†å¸ƒ

**è§‚å¯Ÿåˆ°çš„20ä¸ªåœ°å€**:
```
01796000, 01799000, 0179c000, 0179f000,
017a2000, 017a5000, 017a8000, 017ab000,
017ae000, 017b1000, 017b4000, 017b7000,
017ba000, 017bd000, 017c0000, 017c3000,
006ed000, 006f0000, 006f3000, 006f6000
```

**ç‰¹å¾**:
- åœ°å€é—´éš”: 0x3000 (12KB)
- ä¸¤ä¸ªå†…å­˜åŒºåŸŸ:
  - åŒºåŸŸ1: 01796000-017c3000ï¼ˆ16ä¸ªï¼‰
  - åŒºåŸŸ2: 006ed000-006f6000ï¼ˆ4ä¸ªï¼‰

---

## ğŸ’¡ å…³é”®å‘ç°

### éªŒè¯çš„æ¦‚å¿µ

âœ… **MQDå’ŒHQDæ˜¯æŸ¥çœ‹çœŸå®ç¡¬ä»¶çŠ¶æ€çš„çª—å£**
- æ¯”ç†è®ºè®¡ç®—å‡†ç¡®
- å®æ—¶åæ˜ ç³»ç»ŸçŠ¶æ€
- å¯ä»¥éªŒè¯è½¯ç¡¬ä»¶é˜Ÿåˆ—æ˜ å°„

âœ… **æ¯ä¸ªè½¯ä»¶é˜Ÿåˆ—æœ‰ç‹¬ç«‹çš„ring buffer**
- é€šè¿‡ring bufferåœ°å€å¯ä»¥å”¯ä¸€æ ‡è¯†é˜Ÿåˆ—
- åœ°å€è¿ç»­åˆ†é…ï¼Œé—´éš”å›ºå®š

âœ… **debugfsæä¾›äº†å®Œæ•´çš„è°ƒè¯•è§†è§’**
- MQDï¼šè½¯ä»¶è§†è§’ï¼ˆé©±åŠ¨åˆ›å»ºçš„é˜Ÿåˆ—ï¼‰
- HQDï¼šç¡¬ä»¶è§†è§’ï¼ˆGPUå®é™…åŠ è½½çš„é˜Ÿåˆ—ï¼‰

### éœ€è¦æ·±å…¥è°ƒæŸ¥çš„é—®é¢˜

ğŸ¤” **ä¸ºä»€ä¹ˆå›ºå®šæ˜¯20ä¸ªé˜Ÿåˆ—ï¼Ÿ**
- å¯èƒ½æ˜¯HIPè¿è¡Œæ—¶çš„é˜Ÿåˆ—æ± å¤§å°é™åˆ¶
- å¯èƒ½æ˜¯KFDçš„æŸä¸ªé…ç½®é™åˆ¶
- éœ€è¦æ£€æŸ¥ï¼š`/sys/module/amdkfd/parameters/max_num_of_queues_per_process`

ğŸ¤” **Stream vs Queueçš„çœŸå®æ˜ å°„**
- HIP Streamæ˜¯å¦æ€»æ˜¯1:1æ˜ å°„åˆ°AQL Queueï¼Ÿ
- æ˜¯å¦å­˜åœ¨é˜Ÿåˆ—å¤ç”¨æœºåˆ¶ï¼Ÿ
- éœ€è¦æŸ¥çœ‹HIP runtimeæºç 

ğŸ¤” **å¦‚ä½•è§¦å‘HQDå¤ç”¨ï¼Ÿ**
- æµ‹è¯•64ä¸ªstreamsåº”è¯¥ä¼šè¶…è¿‡32ä¸ªHQDé™åˆ¶
- ä½†åªçœ‹åˆ°20ä¸ªé˜Ÿåˆ—
- å¯èƒ½éœ€è¦æ›´å¤šçš„streamsæˆ–è€…ä¸åŒçš„æµ‹è¯•æ–¹æ³•

---

## ğŸ› ï¸ ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿæ£€æŸ¥å½“å‰é˜Ÿåˆ—çŠ¶æ€

```bash
# 1. è¯»å–MQDå’ŒHQD
sudo cat /sys/kernel/debug/kfd/mqds > current_mqds.txt
sudo cat /sys/kernel/debug/kfd/hqds > current_hqds.txt

# 2. ç»Ÿè®¡é˜Ÿåˆ—æ•°é‡
echo "Software Queues:"
grep "00000200:" current_mqds.txt | awk '{print $2}' | grep -v "00000000" | sort | uniq | wc -l

echo "Hardware Queues:"
awk '/CP Pipe/ {getline; if ($2 != "00000000") count++} END {print count}' current_hqds.txt
```

### è¿è¡Œå®Œæ•´æµ‹è¯•

```bash
cd /mnt/md0/zhehan/code/coderampup/private_github/amdgpudriver/doc/kernel_submit/test_queue_limits

# æµ‹è¯•ä¸åŒæ•°é‡çš„streams
./test_and_inspect_mqd.sh 16
./test_and_inspect_mqd.sh 32
./test_and_inspect_mqd.sh 64

# åˆ†æç»“æœ
./analyze_mqd_hqd.sh logs_mqd_inspection
```

### å®æ—¶ç›‘æ§é˜Ÿåˆ—å˜åŒ–

```bash
# åœ¨ä¸€ä¸ªç»ˆç«¯è¿è¡Œæµ‹è¯•ç¨‹åº
./test_multiple_streams 32 -t 60  # 60ç§’æŒç»­æ—¶é—´

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯å®æ—¶ç›‘æ§
watch -n 1 'sudo cat /sys/kernel/debug/kfd/mqds | grep "00000200:" | awk "{print \$2}" | grep -v "00000000" | sort | uniq | wc -l'
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

### åˆ›å»ºçš„æ–‡æ¡£

1. **MQD_INSPECTION_GUIDE.md** - è¯¦ç»†æŒ‡å—
   - MQD/HQDæ¦‚å¿µè§£é‡Š
   - ä½¿ç”¨æ–¹æ³•
   - ç¤ºä¾‹å’Œæœ€ä½³å®è·µ

2. **MQD_HQD_TEST_FINDINGS.md** - æµ‹è¯•ç»“æœåˆ†æ
   - è¯¦ç»†çš„æµ‹è¯•ç»“æœ
   - é—®é¢˜åˆ†æ
   - å¾…è°ƒæŸ¥äº‹é¡¹

3. **README.md** - æµ‹è¯•å¥—ä»¶æ€»è§ˆ
   - test_multiple_streamsç¨‹åºè¯´æ˜
   - æµ‹è¯•åœºæ™¯
   - é¢„æœŸç»“æœ

### ç›¸å…³ä»£ç 

- `test_multiple_streams.cpp` - æµ‹è¯•ç¨‹åº
- `test_and_inspect_mqd.sh` - æµ‹è¯•+æ£€æŸ¥è„šæœ¬
- `read_mqd_hqd.sh` - MQD/HQDè¯»å–å·¥å…·
- `analyze_mqd_hqd.sh` - æ•°æ®åˆ†æå·¥å…·

### å‚è€ƒèµ„æ–™

- `/mnt/md0/zhehan/code/coderampup/private_github/amdgpudriver/doc/scheduler/DOC_key/MQD_HARDWARE_REGISTERS_MAPPING.md`
  - MQDå¯„å­˜å™¨æ˜ å°„è¯¦è§£
  
- `/mnt/md0/zhehan/code/coderampup/private_github/amdgpudriver/doc/kernel_submit/SOFTWARE_HARDWARE_QUEUE_LIMITS.md`
  - è½¯ä»¶å’Œç¡¬ä»¶é˜Ÿåˆ—é™åˆ¶åˆ†æ

---

## ğŸ“ å­¦ä¹ æ€»ç»“

### æ–¹æ³•è®ºéªŒè¯

**ç†è®ºè®¡ç®— âŒ**
```c
// ä»ä»£ç è¯»å–ç¡¬ç¼–ç çš„å€¼
num_hqd = 4 * 8 = 32;
// å‡è®¾æ€§çš„ã€é™æ€çš„
```

**debugfsæŸ¥çœ‹ âœ…**
```bash
# è¯»å–çœŸå®çš„ç¡¬ä»¶çŠ¶æ€
sudo cat /sys/kernel/debug/kfd/hqds
# å‡†ç¡®çš„ã€å®æ—¶çš„ã€åŠ¨æ€çš„
```

### æ ¸å¿ƒä»·å€¼

1. **è§‚å¯ŸçœŸå®çŠ¶æ€** - ä¸ä¾èµ–ç†è®ºå‡è®¾
2. **å®æ—¶ç›‘æ§** - å¯ä»¥çœ‹åˆ°é˜Ÿåˆ—çš„åˆ›å»ºå’Œé”€æ¯
3. **ç²¾ç¡®éªŒè¯** - å¯ä»¥å¯¹æ¯”è½¯ä»¶é¢„æœŸå’Œç¡¬ä»¶å®é™…
4. **è°ƒè¯•åˆ©å™¨** - å‡ºé—®é¢˜æ—¶æŸ¥çœ‹çœŸå®çŠ¶æ€

### é€‚ç”¨åœºæ™¯

**Rampupå­¦ä¹ é˜¶æ®µ**ï¼ˆå½“å‰ï¼‰:
- âœ… ç†è§£MQD/HQDæ¦‚å¿µ
- âœ… å­¦ä¹ å¦‚ä½•æŸ¥çœ‹ç¡¬ä»¶çŠ¶æ€
- âš ï¸ ç†è®ºè®¡ç®—è¶³å¤Ÿç”¨äºæ¦‚å¿µéªŒè¯

**è°ƒè¯•é—®é¢˜é˜¶æ®µ**:
- âœ…âœ…âœ… å¿…é¡»ä½¿ç”¨debugfsæŸ¥çœ‹çœŸå®çŠ¶æ€
- æ‰¾åˆ°å®é™…é—®é¢˜æ ¹å› 
- éªŒè¯ä¿®å¤æ•ˆæœ

**æ€§èƒ½ä¼˜åŒ–é˜¶æ®µ**:
- âœ…âœ… ç›‘æ§HQDä½¿ç”¨ç‡
- é¿å…ä¸å¿…è¦çš„é˜Ÿåˆ—å¤ç”¨
- ä¼˜åŒ–é˜Ÿåˆ—åˆ†é…ç­–ç•¥

---

## ğŸš€ åç»­å·¥ä½œ

### ç«‹å³å¯åš

- [ ] æ£€æŸ¥KFDå‚æ•°é…ç½®
  ```bash
  ls /sys/module/amdkfd/parameters/
  cat /sys/module/amdkfd/parameters/max_num_of_queues_per_process
  ```

- [ ] æ”¹è¿›HQD Pipe/Queueè§£æ
  ```bash
  # å½“å‰è§£ææœ‰é—®é¢˜ï¼Œæ˜¾ç¤º"Pipe Pipe"
  # éœ€è¦æ­£ç¡®æå–Pipe IDå’ŒQueue ID
  ```

- [ ] åˆ›å»ºæŒç»­ç›‘æ§è„šæœ¬
  ```bash
  # å®æ—¶è®°å½•é˜Ÿåˆ—å˜åŒ–
  # æ•è·é˜Ÿåˆ—åˆ›å»ºå’Œé”€æ¯çš„æ—¶é—´ç‚¹
  ```

### éœ€è¦ä»£ç ç ”ç©¶

- [ ] æŸ¥çœ‹HIP runtimeæºç 
  - streamåˆ›å»ºæµç¨‹
  - queue poolæœºåˆ¶ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
  - queueå¤ç”¨ç­–ç•¥

- [ ] ç ”ç©¶KFD queue management
  - `create_queue` IOCTLå®ç°
  - per-processé˜Ÿåˆ—é™åˆ¶
  - queueåˆ†é…å’Œå›æ”¶æœºåˆ¶

### è¿›é˜¶æµ‹è¯•

- [ ] åˆ›å»ºæ›´å¤šstreamsï¼ˆ128, 256ï¼‰
  - è§‚å¯ŸHQDå¤ç”¨
  - æµ‹è¯•ç³»ç»Ÿé™åˆ¶

- [ ] æµ‹è¯•ä¸åŒä¼˜å…ˆçº§çš„é˜Ÿåˆ—
  - éªŒè¯ä¼˜å…ˆçº§å¯¹HQDåˆ†é…çš„å½±å“
  - éœ€è¦å…ˆä¿®å¤Line 100çš„priority bug

- [ ] å¤šè¿›ç¨‹æµ‹è¯•
  - å¤šä¸ªè¿›ç¨‹åŒæ—¶åˆ›å»ºé˜Ÿåˆ—
  - è§‚å¯ŸHQDåœ¨è¿›ç¨‹é—´çš„åˆ†é…

---

## ğŸ“Œ å…³é”®å‘½ä»¤é€ŸæŸ¥

```bash
# æŸ¥çœ‹å½“å‰è½¯ä»¶é˜Ÿåˆ—
sudo cat /sys/kernel/debug/kfd/mqds | grep "00000200:" | awk '{print $2}' | grep -v "00000000" | sort | uniq | wc -l

# æŸ¥çœ‹å½“å‰ç¡¬ä»¶é˜Ÿåˆ—
sudo cat /sys/kernel/debug/kfd/hqds | awk '/CP Pipe/ {getline; if ($2 != "00000000") count++} END {print count}'

# æ˜¾ç¤ºring bufferåœ°å€
sudo cat /sys/kernel/debug/kfd/mqds | grep "00000200:" | awk '{print $2}' | grep -v "00000000" | sort | uniq

# å®Œæ•´æµ‹è¯•
cd /mnt/md0/zhehan/code/coderampup/private_github/amdgpudriver/doc/kernel_submit/test_queue_limits
./test_and_inspect_mqd.sh 32
./analyze_mqd_hqd.sh
```

---

## ğŸ‰ ç»“è®º

### å›ç­”åŸå§‹é—®é¢˜

**"æ˜¯ä¸æ˜¯ç ”ç©¶MQDå°±çŸ¥é“æœ‰çœŸæ­£æœ‰å¤šå°‘ä¸ªç¡¬ä»¶Queueäº†ï¼Ÿ"**

**ç­”æ¡ˆ**: âœ… **æ˜¯çš„ï¼è€Œä¸”æ–¹æ³•å®Œå…¨æ­£ç¡®ï¼**

é€šè¿‡è¯»å– `/sys/kernel/debug/kfd/mqds` å’Œ `hqds`ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š

1. âœ… **ç²¾ç¡®ç»Ÿè®¡**è½¯ä»¶é˜Ÿåˆ—æ•°é‡ï¼ˆæ¯ä¸ªæœ‰å”¯ä¸€ring bufferåœ°å€ï¼‰
2. âœ… **ç²¾ç¡®ç»Ÿè®¡**ç¡¬ä»¶é˜Ÿåˆ—æ•°é‡ï¼ˆå®é™…åŠ è½½åˆ°GPUçš„HQDï¼‰
3. âœ… **éªŒè¯æ˜ å°„**å…³ç³»ï¼ˆ1:1è¿˜æ˜¯å¤šå¯¹ä¸€ï¼‰
4. âœ… **å®æ—¶ç›‘æ§**é˜Ÿåˆ—çš„åˆ›å»ºã€ä½¿ç”¨å’Œé”€æ¯

è¿™æ˜¯æŸ¥çœ‹**çœŸå®ç¡¬ä»¶çŠ¶æ€**çš„æ­£ç¡®æ–¹æ³•ï¼Œæ¯”ä»ä»£ç ä¸­ç¡¬ç¼–ç çš„ç†è®ºå€¼ï¼ˆ32ä¸ªï¼‰**å‡†ç¡®å¾—å¤š**ï¼

### æœ€å¤§æ”¶è·

1. **æ–¹æ³•éªŒè¯** - debugfsæ˜¯æŸ¥çœ‹ç¡¬ä»¶çŠ¶æ€çš„æ­£ç¡®å·¥å…·
2. **å·¥å…·åˆ›å»º** - å®Œæ•´çš„æµ‹è¯•å’Œåˆ†æå·¥å…·é›†
3. **çŸ¥è¯†ç§¯ç´¯** - æ·±å…¥ç†è§£MQD/HQDæœºåˆ¶
4. **é—®é¢˜å‘ç°** - è¯†åˆ«å‡ºéœ€è¦è¿›ä¸€æ­¥è°ƒæŸ¥çš„é—®é¢˜ï¼ˆ20ä¸ªé˜Ÿåˆ—ä¹‹è°œï¼‰

---

**æœ€ç»ˆè¯„ä»·**: è™½ç„¶æµ‹è¯•ç»“æœä¸é¢„æœŸæœ‰å·®å¼‚ï¼ˆ20ä¸ªé˜Ÿåˆ— vs 16/32/64ä¸ªstreamsï¼‰ï¼Œä½†æˆ‘ä»¬æˆåŠŸ**éªŒè¯äº†æ–¹æ³•çš„æ­£ç¡®æ€§**ï¼Œå¹¶ä¸ºåç»­æ·±å…¥è°ƒæŸ¥æ‰“ä¸‹äº†åšå®åŸºç¡€ï¼ğŸŠ
